[gd_scene load_steps=13 format=2]

[ext_resource path="res://scripts/main.gd" type="Script" id=1]
[ext_resource path="res://TerminalBox.tres" type="StyleBox" id=2]
[ext_resource path="res://fonts/RobotoMono-Regular.tres" type="DynamicFont" id=3]
[ext_resource path="res://fonts/basis33.tres" type="DynamicFont" id=4]
[ext_resource path="res://scripts/Terminal.gd" type="Script" id=5]
[ext_resource path="res://scripts/ChunkDataTable.gd" type="Script" id=6]
[ext_resource path="res://scripts/VSliderInput.gd" type="Script" id=7]
[ext_resource path="res://HexView.tres" type="StyleBox" id=8]

[sub_resource type="StyleBoxFlat" id=6]
content_margin_left = 2.0
content_margin_right = 1.0
content_margin_top = 1.0
content_margin_bottom = 1.0
bg_color = Color( 0, 0, 0, 1 )

[sub_resource type="StyleBoxFlat" id=5]
content_margin_left = 7.0
content_margin_right = 6.0
content_margin_top = 6.0
content_margin_bottom = 6.0
bg_color = Color( 0.607843, 0.607843, 0.607843, 0.0235294 )

[sub_resource type="StyleBoxFlat" id=4]
content_margin_left = 7.0
content_margin_right = 6.0
content_margin_top = 6.0
content_margin_bottom = 6.0
bg_color = Color( 0, 0, 0, 0.929412 )

[sub_resource type="StyleBoxFlat" id=1]
content_margin_left = 6.0
content_margin_right = 6.0
content_margin_top = 6.0
content_margin_bottom = 6.0
bg_color = Color( 0, 0, 0, 0.247059 )

[node name="ROOT" type="ColorRect"]
anchor_right = 1.0
anchor_bottom = 1.0
focus_mode = 2
color = Color( 0.0941176, 0.0941176, 0.0941176, 1 )
script = ExtResource( 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="Top" type="Control" parent="."]
anchor_right = 1.0
__meta__ = {
"_edit_lock_": true
}

[node name="Buttons" type="HBoxContainer" parent="Top"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -416.0
margin_top = 8.0
margin_right = 80.0
margin_bottom = 28.0
custom_constants/separation = 50

[node name="HBoxContainer2" type="HBoxContainer" parent="Top/Buttons"]
margin_right = 157.0
margin_bottom = 20.0
custom_constants/separation = 11

[node name="BtnOpen" type="Button" parent="Top/Buttons/HBoxContainer2"]
margin_right = 47.0
margin_bottom = 20.0
focus_mode = 0
text = "Open"

[node name="BtnSave" type="Button" parent="Top/Buttons/HBoxContainer2"]
margin_left = 58.0
margin_right = 99.0
margin_bottom = 20.0
focus_mode = 0
disabled = true
text = "Save"

[node name="BtnClose" type="Button" parent="Top/Buttons/HBoxContainer2"]
margin_left = 110.0
margin_right = 157.0
margin_bottom = 20.0
focus_mode = 0
disabled = true
text = "Close"

[node name="HBoxContainer3" type="HBoxContainer" parent="Top/Buttons"]
margin_left = 207.0
margin_right = 294.0
margin_bottom = 20.0
custom_constants/separation = 11

[node name="BtnRun" type="Button" parent="Top/Buttons/HBoxContainer3"]
margin_right = 36.0
margin_bottom = 20.0
focus_mode = 0
text = "Run"

[node name="BtnStop" type="Button" parent="Top/Buttons/HBoxContainer3"]
margin_left = 47.0
margin_right = 87.0
margin_bottom = 20.0
focus_mode = 0
text = "Stop"

[node name="HBoxContainer" type="HBoxContainer" parent="Top/Buttons"]
margin_left = 344.0
margin_right = 496.0
margin_bottom = 20.0
custom_constants/separation = 11

[node name="BtnBreak" type="Button" parent="Top/Buttons/HBoxContainer"]
margin_right = 48.0
margin_bottom = 20.0
focus_mode = 0
text = "Break"

[node name="BtnBack" type="Button" parent="Top/Buttons/HBoxContainer"]
margin_left = 59.0
margin_right = 101.0
margin_bottom = 20.0
focus_mode = 0
text = "Back"

[node name="BtnStep" type="Button" parent="Top/Buttons/HBoxContainer"]
margin_left = 112.0
margin_right = 152.0
margin_bottom = 20.0
focus_mode = 0
text = "Step"

[node name="VSplitContainer" type="VSplitContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 34.0

[node name="Main" type="HBoxContainer" parent="VSplitContainer"]
margin_right = 1600.0
margin_bottom = 819.0
grow_vertical = 0
size_flags_vertical = 3
size_flags_stretch_ratio = 3.0

[node name="Hex" type="Control" parent="VSplitContainer/Main"]
margin_right = 260.0
margin_bottom = 819.0
rect_min_size = Vector2( 260, 0 )
size_flags_vertical = 3

[node name="Top" type="Control" parent="VSplitContainer/Main/Hex"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_bottom = -51.0

[node name="Offsets" type="TextEdit" parent="VSplitContainer/Main/Hex/Top"]
anchor_right = 1.0
anchor_bottom = 1.0
rect_min_size = Vector2( 260, 0 )
size_flags_vertical = 3
custom_colors/font_color_readonly = Color( 1, 1, 1, 0.215686 )
custom_constants/line_spacing = -1
custom_fonts/font = ExtResource( 4 )
custom_styles/read_only = ExtResource( 2 )
custom_styles/focus = ExtResource( 2 )
custom_styles/normal = ExtResource( 2 )
text = "00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a
00000000
00000008
0000000a"
readonly = true
caret_blink = true

[node name="Bytes" type="TextEdit" parent="VSplitContainer/Main/Hex/Top"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 75.0
margin_right = 4.0
custom_constants/line_spacing = -1
custom_fonts/font = ExtResource( 4 )
custom_styles/read_only = ExtResource( 8 )
custom_styles/focus = ExtResource( 8 )
custom_styles/normal = ExtResource( 8 )
text = "50 45 00 00 64 86 13 00 10 2A 71 64 00 24 01 00 7B 05 00 00 F0 00 26 00 0B 02 02 25 00 26 00 00 00 56 00 00 00 02 00 00 25 11 00 00 00 10 00 00 00 00 00 40 01 00 00 00 00 10 00 00 00 02 00 00 04 00 00 00 00 00 00 00 05 00 02 00 00 00 00 00 00 10 02 00 00 06 00 00 1B 47 02 00 03 00 60 01 00 00 20 00 00 00 00 00 00 10 00 00 00 00 00 00 00 00 10 00 00 00 00 00 00 10 00 00 00 00 00 00 00 00 00 00 10 00 00 00 00 00 00 00 00 00 00 00 00 B0 00 00 9C 0A 00 00 00 00 00 00 00 00 00 00 00 80 00 00 B8 02 00 00 00 00 00 00 00 00 00 00 00 E0 00 00 8C 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 20 51 00 00 28 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 64 B2 00 00 00 02 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00"
readonly = true
wrap_enabled = true
caret_blink = true

[node name="Bleed" type="ColorRect" parent="VSplitContainer/Main/Hex/Top"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 242.0
margin_right = 1.0
color = Color( 0, 0, 0, 1 )

[node name="VSlider" type="VSlider" parent="VSplitContainer/Main/Hex/Top"]
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -12.0
margin_right = 4.0
value = 50.0
script = ExtResource( 7 )

[node name="Info" type="TextEdit" parent="VSplitContainer/Main/Hex"]
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = -49.0
size_flags_horizontal = 3
custom_constants/line_spacing = -1
custom_fonts/font = ExtResource( 4 )
custom_styles/read_only = SubResource( 6 )
custom_styles/normal = SubResource( 6 )
text = "0x00000048-00000092
int8: 33 int16: 47137
int32: 1275181089"
readonly = true

[node name="Code" type="HSplitContainer" parent="VSplitContainer/Main"]
margin_left = 264.0
margin_right = 1063.0
margin_bottom = 819.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 1.5

[node name="Chunks" type="VSplitContainer" parent="VSplitContainer/Main/Code"]
margin_right = 301.0
margin_bottom = 819.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 1.25

[node name="List" type="Tree" parent="VSplitContainer/Main/Code/Chunks"]
margin_right = 301.0
margin_bottom = 540.0
size_flags_vertical = 3
size_flags_stretch_ratio = 2.0
custom_constants/vseparation = -1
custom_constants/draw_relationship_lines = 1
custom_fonts/font = ExtResource( 4 )
hide_root = true

[node name="Data" type="Tree" parent="VSplitContainer/Main/Code/Chunks"]
margin_top = 552.0
margin_right = 301.0
margin_bottom = 819.0
size_flags_vertical = 3
custom_constants/vseparation = -1
custom_fonts/title_button_font = ExtResource( 4 )
custom_fonts/font = ExtResource( 4 )
column_titles_visible = true
hide_root = true
script = ExtResource( 6 )

[node name="Asm" type="Tree" parent="VSplitContainer/Main/Code"]
margin_left = 313.0
margin_right = 799.0
margin_bottom = 819.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 2.0
custom_fonts/title_button_font = ExtResource( 4 )
custom_fonts/font = ExtResource( 4 )
columns = 3
hide_folding = true
hide_root = true

[node name="VSlider" type="VSlider" parent="VSplitContainer/Main/Code/Asm"]
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -16.0
value = 50.0
script = ExtResource( 7 )

[node name="Decompiler" type="RichTextLabel" parent="VSplitContainer/Main"]
margin_left = 1067.0
margin_right = 1600.0
margin_bottom = 819.0
size_flags_horizontal = 3
custom_fonts/mono_font = ExtResource( 4 )
custom_fonts/normal_font = ExtResource( 4 )
text = "(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
(test)
"

[node name="Extras2" type="Tree" parent="VSplitContainer/Main"]
visible = false
margin_left = 1373.0
margin_right = 1600.0
margin_bottom = 721.0
size_flags_horizontal = 3

[node name="Footer" type="HSplitContainer" parent="VSplitContainer"]
margin_top = 831.0
margin_right = 1600.0
margin_bottom = 990.0
grow_vertical = 0
rect_clip_content = true
size_flags_vertical = 3
size_flags_stretch_ratio = 0.6

[node name="Console" type="Control" parent="VSplitContainer/Footer"]
margin_right = 794.0
margin_bottom = 159.0
size_flags_horizontal = 3

[node name="Terminal" type="TextEdit" parent="VSplitContainer/Footer/Console"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_bottom = 113.0
custom_constants/line_spacing = 1
custom_fonts/font = ExtResource( 4 )
custom_styles/read_only = ExtResource( 2 )
custom_styles/focus = ExtResource( 2 )
custom_styles/normal = ExtResource( 2 )
text = "RichTextLabel *console_node = nullptr;

void GDNShell::_register_methods() {
    register_method(\"_process\", &GDNShell::_process);

    register_method(\"spawn\", &GDNShell::spawn);
    register_method(\"send_string\", &GDNShell::send_string);
    register_method(\"send_input\", &GDNShell::send_input);
    register_method(\"kill\", &GDNShell::kill);

//    register_property<GDNShell, RichTextLabel>(\"console_node\", &GDNShell::console_node, empty_node);
//    register_property<GDNShell, String>(\"APP_NAME\", &GDNShell::APP_NAME, \"Console\");
//    register_property<GDNShell, Array>(\"LOG\", &GDNShell::LOG, Array());

//    register_signal<GDNShell>(\"console_update\", \"output_line\", GODOT_VARIANT_TYPE_STRING);
}"
readonly = true
caret_blink = true
script = ExtResource( 5 )

[node name="Label" type="Label" parent="VSplitContainer/Footer/Console/Terminal"]
visible = false
anchor_left = 1.0
anchor_right = 1.0
margin_left = -249.0
margin_top = 16.0
margin_right = 625.0
margin_bottom = 336.0
custom_fonts/font = ExtResource( 4 )
text = "teasat"

[node name="SpinBox" type="SpinBox" parent="VSplitContainer/Footer/Console/Terminal"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -94.0
margin_top = 5.0
margin_right = -20.0
margin_bottom = 29.0
max_value = 20.0
value = 16.0
rounded = true

[node name="CheckBox" type="CheckBox" parent="VSplitContainer/Footer/Console/Terminal"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -128.0
margin_top = 6.0
margin_right = -104.0
margin_bottom = 30.0
focus_mode = 0
pressed = true

[node name="TextEdit" type="TextEdit" parent="VSplitContainer/Footer/Console/Terminal"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
custom_fonts/font = ExtResource( 4 )
custom_styles/read_only = ExtResource( 2 )
custom_styles/focus = ExtResource( 2 )
custom_styles/normal = ExtResource( 2 )
text = " as da sd wad w"

[node name="VScrollBar" type="VScrollBar" parent="VSplitContainer/Footer/Console"]
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -12.0
step = 1.0

[node name="Input" type="LineEdit" parent="VSplitContainer/Footer/Console"]
visible = false
anchor_top = 1.0
anchor_right = 0.527
anchor_bottom = 1.0
margin_left = 8.0
margin_top = -36.0
margin_right = 105.0
margin_bottom = -9.0
custom_fonts/font = ExtResource( 3 )
custom_styles/read_only = SubResource( 5 )
custom_styles/normal = SubResource( 4 )
caret_blink = true

[node name="LogPrinter" type="TextEdit" parent="VSplitContainer/Footer"]
margin_left = 806.0
margin_right = 1600.0
margin_bottom = 159.0
size_flags_horizontal = 3
custom_constants/line_spacing = 1
custom_fonts/font = ExtResource( 4 )
custom_styles/read_only = SubResource( 1 )
custom_styles/focus = SubResource( 1 )
custom_styles/normal = SubResource( 1 )
text = "RichTextLabel *console_node = nullptr;

void GDNShell::_register_methods() {
    register_method(\"_process\", &GDNShell::_process);

    register_method(\"spawn\", &GDNShell::spawn);
    register_method(\"send_string\", &GDNShell::send_string);
    register_method(\"send_input\", &GDNShell::send_input);
    register_method(\"kill\", &GDNShell::kill);

//    register_property<GDNShell, RichTextLabel>(\"console_node\", &GDNShell::console_node, empty_node);
//    register_property<GDNShell, String>(\"APP_NAME\", &GDNShell::APP_NAME, \"Console\");
//    register_property<GDNShell, Array>(\"LOG\", &GDNShell::LOG, Array());

//    register_signal<GDNShell>(\"console_update\", \"output_line\", GODOT_VARIANT_TYPE_STRING);
}"
readonly = true

[node name="FPS" type="Label" parent="."]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -111.0
margin_top = 4.0
margin_right = -5.0
margin_bottom = 53.0
text = "90 FPS"
align = 2

[node name="OpenDialog" type="FileDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -314.0
margin_top = -224.0
margin_right = 314.0
margin_bottom = 224.0
popup_exclusive = true
window_title = "Open a File"
mode = 0
access = 2
filters = PoolStringArray( "*.exe", "*.dll", "*.sys" )
show_hidden_files = true

[connection signal="pressed" from="Top/Buttons/HBoxContainer2/BtnOpen" to="." method="_on_BtnOpen_pressed"]
[connection signal="pressed" from="Top/Buttons/HBoxContainer2/BtnSave" to="." method="_on_BtnSave_pressed"]
[connection signal="pressed" from="Top/Buttons/HBoxContainer2/BtnClose" to="." method="_on_BtnClose_pressed"]
[connection signal="pressed" from="Top/Buttons/HBoxContainer3/BtnRun" to="." method="_on_BtnRun_pressed"]
[connection signal="pressed" from="Top/Buttons/HBoxContainer3/BtnStop" to="." method="_on_BtnStop_pressed"]
[connection signal="pressed" from="Top/Buttons/HBoxContainer/BtnBreak" to="." method="_on_BtnBreak_pressed"]
[connection signal="pressed" from="Top/Buttons/HBoxContainer/BtnBack" to="." method="_on_BtnBack_pressed"]
[connection signal="pressed" from="Top/Buttons/HBoxContainer/BtnStep" to="." method="_on_BtnStep_pressed"]
[connection signal="gui_input" from="VSplitContainer/Main/Hex/Top/Bytes" to="." method="_on_Bytes_gui_input"]
[connection signal="scrolled" from="VSplitContainer/Main/Hex/Top/VSlider" to="." method="_on_VScrollBarHexView_scrolling"]
[connection signal="value_changed" from="VSplitContainer/Main/Hex/Top/VSlider" to="VSplitContainer/Main/Hex/Top/VSlider" method="_on_VSlider_value_changed"]
[connection signal="cell_selected" from="VSplitContainer/Main/Code/Chunks/List" to="." method="_on_ChunkTable_cell_selected"]
[connection signal="item_activated" from="VSplitContainer/Main/Code/Chunks/List" to="." method="_on_ChunkTable_item_activated"]
[connection signal="scrolled" from="VSplitContainer/Main/Code/Asm/VSlider" to="." method="_on_VSlider_asm_scrolled"]
[connection signal="value_changed" from="VSplitContainer/Main/Code/Asm/VSlider" to="VSplitContainer/Main/Code/Asm/VSlider" method="_on_VSlider_value_changed"]
[connection signal="scrolling" from="VSplitContainer/Footer/Console/VScrollBar" to="VSplitContainer/Footer/Console/Terminal" method="_on_VScrollBar_scrolling"]
[connection signal="text_entered" from="VSplitContainer/Footer/Console/Input" to="." method="_on_Input_text_entered"]
[connection signal="file_selected" from="OpenDialog" to="." method="_on_OpenDialog_file_selected"]
